<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Custom Label Templates • BarnebyLives</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Custom Label Templates">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">BarnebyLives</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item"><a class="nav-link" href="../articles/index.html">Articles</a></li>
<li class="nav-item"><a class="nav-link" href="../data-sources.html">Alternative Data Sources</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Custom Label Templates</h1>
            
      

      <div class="d-none name"><code>custom_label_templates.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>Obviously, everyone wants to be able to customize their label
templates! Why go through the bother of installing and running
<code>BarnebyLives</code> if you cannot do that! So here are a couple
examples of tweaking around with the default skeleton to get some labels
which will… Look familiar.</p>
<p>Note that the labels are made using LaTeX, an awesome guide for LaTeX
(relevant to the level you will be using it at) is <a href="https://www.overleaf.com/learn/latex/Learn_LaTeX_in_30_minutes" class="external-link">Overleaf.org</a>,
and check the links in the side bar too!</p>
<p>In this vignette, I will show you what the three default templates
look like, and then we will make some slight customizations to them.</p>
</div>
<div class="section level2">
<h2 id="examples">Examples<a class="anchor" aria-label="anchor" href="#examples"></a>
</h2>
<p>As a reminder, the standard template (<code>skeleton.Rmd</code>)
looks like this.</p>
<p>Another included template, for the Seeds of Success program
(<code>skeletonSOS.Rmd</code>), looks like this. Seeds of Success is a
rad program all about how plant science will save the planet. This
collection didn’t lead to a collection, but I am largely indebted to it
for a ton of testing data from a whole slew of collectors (holla @
Chicago Botanic Garden &amp; University of Nevada Reno too!)</p>
<p>And our final default template (<code>skeleton-new.Rmd</code>) looks
like this</p>
</div>
<div class="section level2">
<h2 id="modifications">Modifications<a class="anchor" aria-label="anchor" href="#modifications"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://sagesteppe.github.io/BarnebyLives/">BarnebyLives</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org" class="external-link">tidyverse</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">local</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="st">'~'</span>, <span class="st">'Documents'</span>, <span class="st">'assoRted'</span>, <span class="st">'Barneby_Lives_dev'</span>, <span class="st">'LabelStyles'</span><span class="op">)</span></span>
<span></span>
<span><span class="va">l.nevadense</span> <span class="op">&lt;-</span> <span class="va">collection_examples</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">Collection_number</span> <span class="op">==</span> <span class="fl">2823</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/write.table.html" class="external-link">write.csv</a></span><span class="op">(</span><span class="va">l.nevadense</span>, <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">local</span>, <span class="st">'SoS-ExampleCollection.csv'</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>All of the labels can be copied from their original locations using
the following code.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">p2lib</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span>package <span class="op">=</span> <span class="st">'BarnebyLives'</span><span class="op">)</span>,</span>
<span>  <span class="st">'rmarkdown'</span>, <span class="st">'templates'</span>, <span class="st">'labels'</span>, <span class="st">'skeleton'</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># here we copy over one of the skeletons which we are going to modify in this example</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/files.html" class="external-link">file.copy</a></span><span class="op">(</span></span>
<span>  from <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">p2lib</span>, <span class="st">'SoS-skeleton.Rmd'</span><span class="op">)</span>, </span>
<span>  to <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">local</span>, <span class="st">'SoS-skeleton.Rmd'</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/rm.html" class="external-link">rm</a></span><span class="op">(</span><span class="va">p2lib</span><span class="op">)</span></span></code></pre></div>
<p>When using the program you will need to copy a template from it’s
location within the package to a ‘local’ location. This is because you
will <em>always</em> need to modify a small part of the skeleton which
defines where the document should <em>look</em> for your data it will
put on the labels, see the ‘creating_labels’ vignette for details. Any
changes you make to the skeleton’s in the package directory will be lost
anytime you update the package. Once the file is in that location it can
easily be opened for safe editing. So by ‘local’ I basically mean put
the file in a location on your computer which will not be overwritten
when you update the package, which may happen without your knowledge if
this becomes a dependency to another package (which seems highly
unlikely to me). Obviously it’s good to try and place all of these
skeletons in the same location so you don’t have to do much hunting
around to find them, the ‘spaces’ in LaTeX formatting can make things go
haywire quick, so it’s nice to have a backup version as you are
tailoring a version.</p>
<p>While I am about to be very busy for the next few years I am happy to
accept pull requests so that BL has a greater variety of herbarium
templates, likewise you can make your own <code>writer_*</code> type
functions and push those to the package. If you have questions about how
to do this, many good github resources/guides exist, and i am happy to
try and help with incorporating materials.</p>
<p>One final note is that LaTeX uses <em>spaces</em>, or ’ ’ for
controlling content. In particular two spaces will force the text onto a
new line. It is hard for me illustrate these in the examples, but I’ll
try and do my best to mention them when relevant.</p>
<p>For this example we will focus on the final default template, which
is a pretty middle of the road design.</p>
<div class="float">
<img src="../reference/figures/default-SOS-2823-1.png" alt="Default SOS template results"><div class="figcaption">Default SOS template results</div>
</div>
<p>Hmm that’s a busy label, we could try and reduce the directions
manually… Or, we can just rid of them! Around line 50 we can just remove
the following details.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a>\begingroup</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a>\begin{spacing}{<span class="fl">0.1</span>}</span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a>{\scriptsize <span class="st">`</span><span class="at">r data$Directions_BL</span><span class="st">`</span>}</span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a>\end{spacing}</span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a>\endgroup</span></code></pre></div>
<p>Delete this!</p>
<p><br></p>
<div class="float">
<img src="../reference/figures/noDir-SOS-2823-1.png" alt="No directions"><div class="figcaption">No directions</div>
</div>
<p>That looks better! But now that we can, I want to open up some space
between the habitat notes and vegetation information. It’s simple, all
we need is to empty a blank line to the document</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a>\begingroup</span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a><span class="st">`</span><span class="at">r data$Gen</span><span class="st">`</span>. <span class="st">`</span><span class="at">r writer(data$Site)</span><span class="st">`</span> <span class="st">`</span><span class="at">r data$latitude_dd</span><span class="st">`</span> <span class="st">`</span><span class="at">r data$longitude_dd</span><span class="st">`</span> (<span class="st">`</span><span class="at">r data$Datum</span><span class="st">`</span> <span class="st">`</span><span class="at">r writer(data$Coordinate_Uncertainty)</span><span class="st">`</span>).</span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a></span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a><span class="st">`</span><span class="at">r writer(data$Habitat)</span><span class="st">`</span>. <span class="st">`</span><span class="at">r data$physical_environ</span><span class="st">`</span>  </span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a>Veg.<span class="sc">:</span> <span class="st">`</span><span class="at">r species_font(data$Vegetation)</span><span class="st">`</span> <span class="st">`</span><span class="at">r associates_writer(data$Associates)</span><span class="st">`</span></span>
<span id="cb4-6"><a href="#cb4-6" tabindex="-1"></a><span class="st">`</span><span class="at">r writer(data$Notes)</span><span class="st">`</span>  </span>
<span id="cb4-7"><a href="#cb4-7" tabindex="-1"></a>\endgroup</span></code></pre></div>
<p>Can become the chunk below. All we do is enter a blank line between
‘r writer()…’ and ‘Veg.’</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a>\begingroup</span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a><span class="st">`</span><span class="at">r data$Gen</span><span class="st">`</span>. <span class="st">`</span><span class="at">r writer(data$Site)</span><span class="st">`</span> <span class="st">`</span><span class="at">r data$latitude_dd</span><span class="st">`</span> <span class="st">`</span><span class="at">r data$longitude_dd</span><span class="st">`</span> (<span class="st">`</span><span class="at">r data$Datum</span><span class="st">`</span> <span class="st">`</span><span class="at">r writer(data$Coordinate_Uncertainty)</span><span class="st">`</span>).</span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a><span class="st">`</span><span class="at">r writer(data$Habitat)</span><span class="st">`</span>. <span class="st">`</span><span class="at">r data$physical_environ</span><span class="st">`</span>  </span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a></span>
<span id="cb5-6"><a href="#cb5-6" tabindex="-1"></a>Veg.<span class="sc">:</span> <span class="st">`</span><span class="at">r species_font(data$Vegetation)</span><span class="st">`</span> <span class="st">`</span><span class="at">r associates_writer(data$Associates)</span><span class="st">`</span></span>
<span id="cb5-7"><a href="#cb5-7" tabindex="-1"></a><span class="st">`</span><span class="at">r writer(data$Notes)</span><span class="st">`</span>  </span>
<span id="cb5-8"><a href="#cb5-8" tabindex="-1"></a>\endgroup</span></code></pre></div>
<div class="float">
<img src="../reference/figures/Spaced-SOS-2823-1.png" alt="Space between habitat and vegetation"><div class="figcaption">Space between habitat and vegetation</div>
</div>
<p><br> That’s better!</p>
<blockquote>
<p>“All I want is to breathe I’m too thin”<br>
“Won’t you breathe with me?”<br>
“Find a little space, so we can move in-between In-Between it”<br>
“And keep one step ahead, of yourself.”</p>
</blockquote>
<p>Now let’s change the line that controls the size of the font for the
project name. Here we will be making the font size smaller by shifting
from the <code>LARGE</code> to the <code>large</code> argument.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a>\textbf{\LARGE <span class="st">`</span><span class="at">r writer(data$Project_Name)</span><span class="st">`</span>}  </span></code></pre></div>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a>\textbf{\large <span class="st">`</span><span class="at">r writer(data$Project_Name)</span><span class="st">`</span>} </span></code></pre></div>
<div class="float">
<img src="../reference/figures/large-SOS-2823-1.png" alt="Project name is smaller"><div class="figcaption">Project name is smaller</div>
</div>
<p><br></p>
<p>Here we change the location of the family on the label (currently
aligned right). Let’s make the family left aligned.<br>
Note that all calls to R are in a single set of smart quotes, and ‘R’,
this allows us to run R commands without having to create a code chunk
for them in the more common markdown syntax. We have created a few
commands which help format the writing output for making the labels like
nice.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a>\begin{flushright}</span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a>\uppercase{<span class="st">`</span><span class="at">r data$Family</span><span class="st">`</span>}</span>
<span id="cb8-3"><a href="#cb8-3" tabindex="-1"></a>\end{flushright}</span>
<span id="cb8-4"><a href="#cb8-4" tabindex="-1"></a></span>
<span id="cb8-5"><a href="#cb8-5" tabindex="-1"></a>\begingroup</span>
<span id="cb8-6"><a href="#cb8-6" tabindex="-1"></a>\large</span>
<span id="cb8-7"><a href="#cb8-7" tabindex="-1"></a><span class="st">`</span><span class="at">r writer(paste(data$Genus, data$Epithet), italics = TRUE)</span><span class="st">`</span> <span class="st">`</span><span class="at">r writer(data$Binomial_authority)</span><span class="st">`</span> <span class="st">`</span><span class="at">r writer(data$Infrarank)</span><span class="st">`</span> <span class="st">`</span><span class="at">r  writer(data$Infraspecies, italics = TRUE)</span><span class="st">`</span> <span class="st">`</span><span class="at">r writer(data$Infraspecific_authority)</span><span class="st">`</span>  </span>
<span id="cb8-8"><a href="#cb8-8" tabindex="-1"></a>\endgroup</span>
<span id="cb8-9"><a href="#cb8-9" tabindex="-1"></a>\normalsize</span></code></pre></div>
<p>If you remove the <code>flushright</code> commands you basically end
up with this:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a>\large</span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a>\uppercase{<span class="st">`</span><span class="at">r data$Family</span><span class="st">`</span>}  </span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a>\begingroup</span>
<span id="cb9-4"><a href="#cb9-4" tabindex="-1"></a><span class="st">`</span><span class="at">r writer(paste(data$Genus, data$Epithet), italics = TRUE)</span><span class="st">`</span> <span class="st">`</span><span class="at">r writer(data$Binomial_authority)</span><span class="st">`</span> <span class="st">`</span><span class="at">r writer(data$Infrarank)</span><span class="st">`</span> <span class="st">`</span><span class="at">r  writer(data$Infraspecies, italics = TRUE)</span><span class="st">`</span> <span class="st">`</span><span class="at">r writer(data$Infraspecific_authority)</span><span class="st">`</span>  </span>
<span id="cb9-5"><a href="#cb9-5" tabindex="-1"></a>\endgroup</span>
<span id="cb9-6"><a href="#cb9-6" tabindex="-1"></a>\normalsize</span></code></pre></div>
<p>This requires us to delete the first three lines while we copy the
family down into the ‘group’. Which brings up a good point, these
‘groups’ are used to more or less create elements held together like
paragraphs. If we had omitted to bring family into the group, there
would be a smidge more space between it and the scientific name (as
exemplified with the habitat and vegetation alterations.)</p>
<div class="float">
<img src="../reference/figures/familyLeft-SOS-2823-1.png" alt="Family to the left"><div class="figcaption">Family to the left</div>
</div>
<p><br></p>
<p>We may also decide that we want to put determination information
right under the species. We can do that by just moving these elements
around. (Be sure to delete the call to <code>writer_fide</code> from the
chunk located all the way near the bottom of the skeleton!).</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a>\begingroup</span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a><span class="st">`</span><span class="at">r collection_writer(data)</span><span class="st">`</span>. <span class="st">`</span><span class="at">r writer_fide(data)</span><span class="st">`</span></span>
<span id="cb10-3"><a href="#cb10-3" tabindex="-1"></a>\endgroup</span></code></pre></div>
<p>And bring it up to where the scientific name is printed, and make the
font for the det info smaller.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a>\begingroup</span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a>\large</span>
<span id="cb11-3"><a href="#cb11-3" tabindex="-1"></a><span class="st">`</span><span class="at">r writer(paste(data$Genus, data$Epithet), italics = TRUE)</span><span class="st">`</span> <span class="st">`</span><span class="at">r writer(data$Binomial_authority)</span><span class="st">`</span> <span class="st">`</span><span class="at">r writer(data$Infrarank)</span><span class="st">`</span> <span class="st">`</span><span class="at">r  writer(data$Infraspecies, italics = TRUE)</span><span class="st">`</span> <span class="st">`</span><span class="at">r writer(data$Infraspecific_authority)</span><span class="st">`</span>  </span>
<span id="cb11-4"><a href="#cb11-4" tabindex="-1"></a>\normalsize</span>
<span id="cb11-5"><a href="#cb11-5" tabindex="-1"></a><span class="st">`</span><span class="at">r writer_fide(data)</span><span class="st">`</span></span>
<span id="cb11-6"><a href="#cb11-6" tabindex="-1"></a>\endgroup</span></code></pre></div>
<div class="float">
<img src="../reference/figures/Det-SOS-2823-1.png" alt="Moved determination"><div class="figcaption">Moved determination</div>
</div>
<p><br></p>
<p>Obviously, the way I enter data for determination would be bad for
this! using my initials after my full name makes sense, in this context,
who the hell is “RCB” you would wonder? I am one in a sea of botanists
named ‘Reed’, and certainly other - more illustrious - RCB’s are out
there.</p>
</div>
<div class="section level2">
<h2 id="in-summary">In summary<a class="anchor" aria-label="anchor" href="#in-summary"></a>
</h2>
<p>This is an odd vignette to create because it relies on multiple
languages, especially one where ’ ’ spaces are <em>very</em> important.
Just bear in mind you can make big changes to labels with small steps
(maybe too small?)! The overleaf guide has <a href="https://www.overleaf.com/learn" class="external-link uri">https://www.overleaf.com/learn</a> everything you need, and
you’ll probably realize this pales in comparision.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Reed Clark Benkendorf.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>

<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Rendering a shipping manifest • BarnebyLives</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Rendering a shipping manifest">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">BarnebyLives</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item"><a class="nav-link" href="../articles/index.html">Articles</a></li>
<li class="nav-item"><a class="nav-link" href="../data-sources.html">Alternative Data Sources</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Rendering a shipping manifest</h1>
            
      

      <div class="d-none name"><code>rendering_shipping_manifests.Rmd</code></div>
    </div>

    
    
<p>I find it to be good practice to include both a shipping manifest and
short note to the curators who are receiving material when I ship out my
collections. The ‘short notes’ I generally send are slightly
post-card-esque, unless working on some big government type project -
which the note in the example will be. In general I just like these as a
nice little way of adding a bit of personal touch or warmth to the
interaction.</p>
<p>The shipping manifests are very important for practical reasons. They
allow me to check off material and make sure it is packed. They also
seem like a cool old school way of helping people figure what is meant
to be where. More feel than <em>another</em> email.</p>
<p>BL has a default template for this process, which automatically
combines the transmittal notice with the shipping manifest.<br>
As with the other templates from BL, this one is easily modifiable, and
make these changes to a local copy which you have copied out of the
packages contents. Unlike the herbarium labels, you will <em>need</em>
to manually update some values, and the file itself will be rendered to
pdf in whichever location it is found. Theoretically you can probably
pass in a few of these args from a user profile or your global
settings.</p>
<p>Here we copy the file over to a more ‘natural’ part of the computers
file system just like we did with the label templates.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">p2libs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span>package <span class="op">=</span> <span class="st">'BarnebyLives'</span><span class="op">)</span></span>
<span></span>
<span><span class="va">folds</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span></span>
<span>  <span class="st">'BarnebyLives'</span>, <span class="st">'rmarkdown'</span>, <span class="st">'templates'</span>, <span class="st">'SoS_transmittal'</span>, <span class="st">'skeleton'</span>, <span class="st">'skeleton.Rmd'</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/files.html" class="external-link">file.copy</a></span><span class="op">(</span>from <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">p2libs</span>, <span class="va">folds</span><span class="op">)</span>, to <span class="op">=</span>  <span class="st">'.'</span><span class="op">)</span></span></code></pre></div>
<p>Remember, changing the ‘to’ parameter in <code>file.copy</code> will
allow it go wherever you want it to. In this example we copy the file
into our working directory (‘.’).</p>
<p>Now you have the skeleton for the transmittal notice in your desired
directory. Open the skeleton up in a R tab, and fill out the
<code>User</code> defined settings. An example is below (do this in the
template! not here).</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">herbarium_code</span> <span class="op">&lt;-</span> <span class="st">'F'</span> <span class="co"># index herbariorum code</span></span>
<span><span class="va">project</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  Name <span class="op">=</span> <span class="st">'Seeds of Success'</span>, <span class="co"># the project name. </span></span>
<span>  Project_description <span class="op">=</span> <span class="st">'native seed conservation and development project'</span>,</span>
<span>  <span class="co"># short description</span></span>
<span>  Organization <span class="op">=</span> <span class="st">'Chicago Botanic Garden'</span>,</span>
<span>  Phone <span class="op">=</span> <span class="st">'312-XXX-0257'</span>,</span>
<span>  Person <span class="op">=</span> <span class="st">'Reed Benkendorf'</span>,</span>
<span>  Email <span class="op">=</span> <span class="st">'rxxkendork@chicagotbotanicxx.org'</span>,</span>
<span>  PersonTitle <span class="op">=</span> <span class="st">'Lead Botanist'</span>,</span>
<span>  Sets <span class="op">=</span> <span class="st">'quadruplicate'</span>,</span>
<span>  Permits <span class="op">=</span> <span class="st">'These materials were collected under the auspices of the US Department of Interiors Bureau of Land Management, unless noted otherwise.'</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>These are your contact details which will go onto the letter head,
and provide some context about the collections.</p>
<p>Next you will need to point towards the specimens you want to send.
In this case I use a relative path to point towards the output from the
BL cleaning pipeline. I select the few fields which matter, and create
some empty ones for me to manually check off with a pen as I am packing
material.</p>
<p>In the example below I include a little stringr::str_replace call to
strip away all but my first initial from my first name. It’s not super
safe, For example a first name like ‘McKenna’ would results in ‘MK’
being left behind - modify, or remove it, as desired.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">herbarium</span> <span class="op">&lt;-</span> <span class="va">herbaria_info</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">Abbreviation</span> <span class="op">==</span> <span class="va">herbarium_code</span><span class="op">)</span></span>
<span><span class="va">specimens</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="st">'../../results/collections-YOUR_NAME.csv'</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">Primary_Collector</span>, <span class="va">Collection_number</span>, <span class="va">Full_name</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    Packed <span class="op">=</span> <span class="st">""</span>, </span>
<span>    Received <span class="op">=</span> <span class="st">""</span>, </span>
<span>    Primary_Collector <span class="op">=</span> <span class="fu">stringr</span><span class="fu">::</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_replace.html" class="external-link">str_replace</a></span><span class="op">(</span><span class="va">Primary_Collector</span>, <span class="st">"[a-z]+"</span>, <span class="st">"."</span><span class="op">)</span><span class="op">)</span> </span></code></pre></div>
<p>Once you have made all of your changes simply run the job. And once
you’ve done that you can ‘knit’ the document using the ‘knit’ button in
Rmarkdown’s graphic user interface or <code>Ctrl + Shift + k</code>.</p>
  </main>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Reed Clark Benkendorf.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
